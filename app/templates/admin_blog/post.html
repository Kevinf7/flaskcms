{% extends "admin_main/base.html" %}
{% block title %}Blog{% endblock %}

{% block app_content %}
<div class="content mb-6">
  <form action="{{ url_for('admin_blog.post') }}"  method="post">
  {{ form.csrf_token }}
    <div class="field">
      {{ form.title.label(class_='label') }}
      <p class="control">
        {% if post %}
        {% set t = form.title.process_data(post.title) %}
        {% endif %}
        {{ form.title(class_="input") }}
      </p>
      {% for error in form.title.errors %}
      <p class="help is-danger">{{ error }}</p>
      {% endfor %}
    </div>

    <div class="field">
      {{ form.post.label(class_='label') }}
      <p class="help is-info">
        Hint: Add a summary break by adding &lt;p&gt;br&lt;a id="br"&gt;&lt;/a&gt;&lt;/p&gt;
      </p>
      <p class="control">
        {% if post %}
        {% set p = form.post.process_data(post.post) %}
        {% endif %}
        {{ form.post() }}
      </p>
      {% for error in form.post.errors %}
      <p class="help is-danger">{{ error }}</p>
      {% endfor %}
    </div>

    <div class="field">
      {{ form.tags.label(class_='label') }}
      <p class="help is-info">Hint: Separate tags by , (comma)</p>
      <p class="control">
        {{ form.tags(class_="input") }}
      </p>
      {% for error in form.tags.errors %}
      <p class="help is-danger">{{ error }}</p>
      {% endfor %}
    </div>

    <div class="field">
      <div class="control">
        {{ form.submit(class_="button is-link") }}
      </div>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
{% include 'utils/_tinymce_blog.html' %}
{% endblock %}
